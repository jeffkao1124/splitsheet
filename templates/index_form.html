<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1" />
    <title>åˆ†å¸³è¡¨å–®</title>
    <script src="https://d.line-scdn.net/liff/1.0/sdk.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script>
    function print_value() {
        <!-- å°‡ select çš„å€¼åœ¨å°å‡º -->
        document.getElementById("result") = document.getElementById("number").value
    }
</script>
<script>
	function initializeApp(data) {  //åˆå§‹åŒ–LIFF
        var userid = data.context.userId;
        var groupid = data.context.groupId; //å–å¾—ID
        document.getElementById('post_groupID').value =groupid;

	}
	function pushMsg(item, cost) {

		if (item == '' || cost == '') {  //è³‡æ–™æª¢æŸ¥
            alert('æ¯å€‹é …ç›®éƒ½å¿…é ˆè¼¸å…¥ï¼');
            return;
        }
        
        /*for(i=1 ; i<(count+1) ; i++){
            if ($('#splitter'+i).val() =='') {
                alert('æ¯å€‹é …ç›®éƒ½å¿…é ˆè¼¸å…¥ï¼');
                return;
        }
        
        }*/
        var msg = "åˆ†å¸³ ";  //å›å‚³è¨Šæ¯å­—ä¸²
		msg = msg + item + " ";
        msg = msg + cost + " ";
        payer = document.getElementById("number").value;
        if (payer == 'è«‹é¸æ“‡'){
            alert('è«‹é‡æ–°é¸æ“‡ä»£å¢Šè€…ï¼');
            return;
        }
        msg = msg + payer + " ";

        var obj=document.getElementsByName("c14");
        var selected=[];
        for (var i=0; i<obj.length; i++) {
            if (obj[i].checked) {
            msg = msg +obj[i].value +" ";

          }
        }
        

		liff.sendMessages([  //æ¨æ’­è¨Šæ¯
			{ type: 'text',
			  text: msg 
			},
		])
			.then(() => {
				liff.closeWindow();  //é—œé–‰è¦–çª—
			});
	}

	$(document).ready(function () {
    
		liff.init(function (data) {  //åˆå§‹åŒ–LIFF
            initializeApp(data);
		});
		
        $('#sure').click(function (e) {  //æŒ‰ä¸‹ç¢ºå®šéˆ•
            
			pushMsg($('#item').val(), $('#cost').val()); 
		});
	});
</script>
<script type="text/javascript">
    function checkAll(obj, cName) {
             var checkboxs = document.getElementsByName(cName);
             $("input[name=" + cName + "]").prop("checked", true).trigger("click");
             for (var i = 0; i < checkboxs.length; i++) {
                 checkboxs[i].checked = obj.checked;
             }
     }
</script> 
</head>
<body style="background-color:#FFEEDD;">

<div align="center">
    <br><img style="float: center" src="https://scontent-tpe1-1.xx.fbcdn.net/v/t1.0-9/118564250_3916210075072856_4538250581291362262_o.jpg?_nc_cat=102&_nc_sid=8024bb&_nc_ohc=pVO1LBE3Ud4AX_-Wo67&_nc_ht=scontent-tpe1-1.xx&oh=e5e38d055d796ff155cec63810e9dec8&oe=5F74AE54" alt="logo" width="110" height="110"/></br><p></p><h3>Welcome to</h3></p><h3><span style="background-color: #914c53; color: #ffffff;">Account Mastiff</span></h3>
    <br/>
    <p><strong><form>é …ç›®ï¼š<input id="item" type="text" name="é …ç›®" style="width:170px; height:30px; border:1px black double; background-color:#ffffff; border-radius:10px"></strong></p></form>
    <p><strong><form>é‡‘é¡ï¼š<input id="cost" type="number" name="é‡‘é¡"style="width:170px; height:30px; border:1px black double; background-color:#ffffff; border-radius:10px"></strong></p></form>
    <!--<p><strong><form>ä»£å¢Šè€…ï¼š<input id="payer" type="text" name="æ¬„ä½åç¨±"></strong></p></form>-->
    <style>
        .text{
        width:100%;
        }
        .text select{
        width:170px; 
        height:30px;
        line-height: 55px;
        font-size:18px;
        border: 1px solid #000;
        border-radius:10px
        }
    </style>
    <div style="margin-bottom:10px; "><strong>ä»£å¢Šè€…ï¼š</strong>
    <span class="text">
    <select name="number" id="number" onchange="print_value();" class="text-select">
        <option value='è«‹é¸æ“‡'>&nbsp è«‹é¸æ“‡</option>
        {% for list in new_list %}
        <option id="{{ list }}" value="{{ list }}">{{ list }}</option>
        {% endfor %}
    </select>
</span> </div>
    <p id="result" type="hidden" name="æ¬„ä½åç¨±"></p>
    <p><i>ï¼ˆ ğŸ”¸ğŸ”¸ä»£å¢Šè€…ä¹Ÿæ˜¯åˆ†å¸³è€…ä¹‹ä¸€ğŸ”¸ğŸ”¸ ï¼‰</i></p>
    <div style="margin:10px; "><p><strong> ä»¥ä¸‹è«‹å‹¾é¸å…¶ä»–åˆ†å¸³è€…ï¼š</strong></p></div>

    <div style="margin-left:1px">
    <input type="checkbox" id="cAll" name="cAll" onclick="checkAll(this, 'c14')" />å…¨é¸<br/><br/>
    {% for list in new_list %}
    <input type="checkbox" id="{{ list }}" name="c14" value="{{ list }}" />{{ list }}<br/><br/>
    {% endfor %}
    </div>
    <style> 
        .bt{background:#F0F0F0; width: 130px; height:30px; border-radius: 10px;} 
        .bt span{ transition: 0.5s;}  /* éæ¸¡0.5ç§’ */ 
        .bt:hover span{ padding-right: 15px;}  /* ç•¶æ»‘é¼ åœ¨æŒ‰éˆ•ä¸Šæ™‚spanå…§é‚Šå³è·é›¢25px */ 
        .bt span:after{ content: "Â»"; opacity: 0; /* é€æ˜åº¦ç‚º0 */ transition: 0.5s; /* åŠ å€‹0.5ç§’çš„éæ¸¡ */ } 
        .bt:hover span:after{ opacity: 1; /* é€æ˜åº¦ç‚º1ï¼Œå°±æ˜¯é¡¯ç¤º */ } 
      </style>
    <input class="bt" type="button" name="ok" id="sure" value="ç¢ºèªé€å‡º"><br>
    <br/>
</div>
</body>
</html>

